<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise-10</title>
</head>

<body>
    <script>
        /*
        Q1. Return an array of students with following details:
            - name
            - batch
            - average marks secured

            Expected Output:
            let studentsWithCalculatedMarks = [
            {
                name: 'Vaishnavi',
                batch: 8,
                average marks: 84
            },
            {
                name: 'Abhishek',
                batch: 10,
                average marks: 69.6
            }
            ...similarly for the rest of the students
            ]
        */
        let students = [
            {
                name: 'Vaishnavi',
                batch: 8,
                marks: {
                    science: 80,
                    social: 70,
                    hindi: 80,
                    maths: 100,
                    english: 90
                }
            },
            {
                name: 'Abhishek',
                batch: 10,
                marks: {
                    science: 75,
                    social: 78,
                    hindi: 62,
                    maths: 81,
                    english: 52
                }
            },
            {
                name: 'Papu',
                batch: 10,
                marks: {
                    science: 70,
                    social: 72,
                    hindi: 75,
                    maths: 95,
                    english: 82
                }
            },
            {
                name: 'Ram',
                batch: 7,
                marks: {
                    science: 35,
                    social: 24,
                    hindi: 22,
                    maths: 95,
                    english: 67
                }
            },
            {
                name: 'Shyam',
                batch: 9,
                marks: {
                    science: 45,
                    social: 87,
                    hindi: 65,
                    maths: 78,
                    english: 99
                }
            }
        ]

        // Answers:
        // 1. Brute force solution
        // let studentsWithCalculatedMarks = []
        // for(let i=0; i<students.length; i++){
        //     let student = students[i]
        //     let obj = {} // creating new object
        //     obj.name = student.name
        //     obj.batch = student.batch
        //     obj.avgMarks = Object.values(student.marks).reduce((accumulator, element) => accumulator + element) //Calculating avg marks. Object.values returns an array of marks.
        //     obj.avgMarks /= 5
        //     studentsWithCalculatedMarks.push(obj) // push local objects into array studentsWithCalculatedMarks
        // }
        // console.log(studentsWithCalculatedMarks)

        // 2. Optimal Solution
        // let studentsWithCalculatedMarks = students.map(function(e){
        //     let totalMarks = Object.values(e.marks).reduce((accumulator, element) => accumulator + element) 
        //     return{
        //     name:  e.name,
        //     batch: e.batch,
        //     avgMarks:  totalMarks/Object.values(e.marks).length   
        //     }
        // })
        // console.log(studentsWithCalculatedMarks)
    </script>
</body>

</html>